# Decentralized Voting

[DVotings](https://dvotings.vercel.app/) - это приложение, предназначенное для проведения голосования в blockchain. Смарт-контракты написаны на Hardhat, а фронт-енд написан на React с использованием библиотеки Ant Design для интерфейса и Wagmi/Ethers/RainbowKit для работы с blockchain.

## Особенности

- Создание голосования с указанием заголовка, кандидатов и длительности.
- Регистрация пользователя для участия в голосованиях.
- Создание голосваний только для пользователей с KYC статусом.
- Создание приватных голосований.
- Просмотр списка голосований.
- Редактирование голосований, созданных пользователем.
- Уведомления о статусе транзакций.

## Установка

1. Клонируйте репозиторий:

```
git clone https://github.com/SweetBubalehj/...
```

2. Установите зависимости для hardhat (для работы с контрактом):

```
cd .\app-hardhat\
npm install
```

3. Установите зависимости для react:

```
cd .\app-react\
npm install
```

4. Запустите проект react:

```
npm start
```

## Основные компоненты

### Back-End(web3)

#### Main contracts

- `SBToken.sol`: SBT-токен для работы с учетными записями пользователей, а также для подтверждения KYC и разграничения доступа между пользователями посредством добавления модераторов.
- `VotingFactory.sol`: основнй контракт, для создания голосований.
- `Voting.sol`: контракт сессий голосования.

#### Frameworks

- Hardhat

### Front-End

#### App.js

`App.js` содержит основную структуру приложения, включая макет, заголовок с меню, логотипом, кнопкой подключения и разделами контента.

#### contracts

Папка `contracts` содержит ABI контрактов `factoryContract`, `sbtContract`, `votingContract`, которые используются в приложении. ABI позволяет взаимодействовать с контрактами из blockchain.

#### Components

Папка `components` содержит основные компоненты приложения, такие как регистрация, формы создания голосований, редактирования и участия, а также сам список голосований.

- `CreateVotingForm`: Форма для создания нового голосования.
- `CreateIdentity`: Форма для регистрации пользователя.
- `VotingCards`: Компонент, который отображает список доступных голосований, взаимодействуя с ними используя модальное окно.
- `VotingSettings`: Форма для создателя голосования для его редактирования.
- `VotingModeration`: Форма для модерирования голосований, позволяет модератору изменять их название.
- `Profile`: Компонент для просмотра и редактирования профиля участника.
- `AdminButton`: Компонент для администратора, для добавления модераторов.
- `ModeratorButton`: Компонент для модератора, для управления KYC статусом участников.
- `MainPage`: Главная вводная страница.

#### Utils

Папка `utils` содержит вспомогательные функции, используемые в различных частях приложения, такие как проверка пользователя.

- `isAdmin`: проверка пользователя на права администратора.
- `isIdentified`: проверка пользователя на регистрацию.
- `IsKYC`: проверка пользователя на идентификацию.
- `isModerator`: проверка пользователя на права модератора.
- `getRandomGradient.js`: для получения градиента.

## Использование

1. Подключитесь к кошельку, нажав кнопку "Подключить кошелек" в правом верхнем углу.
2. Создайте идентификатор, заполнив форму "Регистрация".
3. Создайте голосование, заполнив форму "Создать голосование".
4. Просмотрите список активных голосований в разделе "Голосования".
5. Управляйте голосованиями, создавая их, голосуя, изменяя их параметры и наблюдая за статусом транзакций.

> - SBT: 0x19D344e774FdBD194C4Ff2e798A315ea8324895d
> - Factory: 0xAdF129A5b54cE5Bc35B860992D0517F3605167c6
